# N Queens II 总方案数问题解析

## 问题描述
给定一个整数 n，要求在 n×n 的棋盘上放置 n 个皇后，使得任意两个皇后不在同一行、同一列或同一斜线上。返回所有不同的合法放置方案总数。

例如：
- 输入: n = 4  
- 输出: 2  
  解释:
  ```
  . Q . .      . . Q .
  . . . Q      Q . . .
  Q . . .  和  . . . Q
  . . Q .      . Q . .
  ```

## 解题思路
采用回溯法（Backtracking）来逐行放置皇后：
1. 用递归逐行放置皇后，对于当前行的每一列判断该位置是否安全。
2. 使用集合记录：
   - **cols**：记录已放置皇后的列。
   - **hill_diagonals**：记录右上到左下方向上的对角线，关系可以用 `(row - col)` 表示。
   - **dale_diagonals**：记录左上到右下方向上的对角线，关系可以用 `(row + col)` 表示。
3. 当行号等于 n 时说明已经成功放置了 n 个皇后，此时方案数加一。
4. 遍历所有行并尝试可能的列，回溯时撤销之前的放置。

## 复杂度分析
- **时间复杂度**：O(n!)（最坏情况下）
- **空间复杂度**：O(n)（递归的深度以及用于记录状态的集合大小）

## 示例说明
对于 n = 4，有两种满足条件的摆法，总方案数为 2。 