# 戳气球问题解析

## 问题描述
有 n 个气球，每个气球上都标有一个数字。现要求戳破所有气球，每次戳破一个气球 i，可以获得 nums[left] * nums[i] * nums[right] 个硬币，
其中 left 和 right 是气球 i 左右两侧未被戳破的气球。假设戳破边界两侧的气球可获得 1 分。

## 示例
输入: [3,1,5,8]
输出: 167
解释: 
- 戳破 1，获得 3 * 1 * 5 = 15 分
- 戳破 5，获得 3 * 5 * 8 = 120 分
- 戳破 3，获得 1 * 3 * 8 = 24 分
- 戳破 8，获得 1 * 8 * 1 = 8 分
总分 = 167

## 解题思路

### 区间型动态规划分析

1. **状态定义**
   - `dp[i][j]` 表示戳破区间 (i,j) 中所有气球能得到的最大分数
   - 注意这里是开区间，i 和 j 位置的气球不戳破

2. **状态转移方程**
   ```
   dp[i][j] = max(dp[i][k] + dp[k][j] + nums[i] * nums[k] * nums[j])
   其中 k 的范围是 (i,j)
   ```

3. **计算顺序**
   - 从小区间开始，逐渐扩大到大区间
   - 采用变量 gap 表示区间长度（即 j - i），从 gap = 2 开始遍历，
     表示至少有一个气球可以被戳破，因为 i 和 j 为边界气球（不被戳破）

4. **特殊处理**
   - 在原数组两端添加 1，简化边界情况处理
   - dp[i][j] 中 i 和 j 位置的气球作为边界，最后才戳破

### 为什么用开区间？
- 使用开区间可以保证计算时左右边界气球一定存在
- 简化了边界情况的处理
- 避免了处理已戳破气球的复杂性

## 复杂度分析
- 时间复杂度：O(n³)
  - 区间数量级为 O(n²)
  - 每个区间需要尝试 O(n) 个分割点
- 空间复杂度：O(n²)
  - 需要 n×n 的 dp 数组 