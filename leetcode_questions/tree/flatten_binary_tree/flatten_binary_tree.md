# 二叉树展开为链表

## 题目描述
给定一棵二叉树，将其展开为一个单链表：
1. 展开后的单链表应该与二叉树的前序遍历顺序相同
2. 使用树的右指针作为链表的next指针
3. 左指针必须设置为null

## 示例
输入:
```
     1
   /   \
  2     5
 / \     \
3   4     6
```
输出:
```
1
 \
  2
   \
    3
     \
      4
       \
        5
         \
          6
```

## 解题思路

### 前序遍历重构
1. **核心思想**
   - 使用前序遍历访问节点
   - 记录上一个访问的节点
   - 动态重构树的连接关系

2. **实现细节**
```python
def preorder(node):
    if not node:
        return
        
    left = node.left
    right = node.right
    
    if last[0]:
        last[0].right = node
        last[0].left = None
    last[0] = node
    
    preorder(left)
    preorder(right)
```

## 复杂度分析
- 时间复杂度：O(N)，每个节点只访问一次
- 空间复杂度：O(H)，H是树的高度，递归栈的深度

## 代码实现要点
1. 保存原始左右子树
2. 正确重构连接关系
3. 处理空节点情况
4. 维护上一个节点的引用

## 常见错误
1. 未保存原始子树
2. 重构顺序错误
3. 未清除左指针
4. 丢失节点引用

## 优化策略
1. 使用迭代实现
2. 原地修改连接
3. 减少空间使用
4. 提前处理特殊情况

## 相关题目
1. 二叉树的前序遍历
2. 将有序数组转换为二叉搜索树
3. 二叉树的右视图
4. 二叉树的序列化与反序列化 